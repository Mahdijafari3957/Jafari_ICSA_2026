package edu.kit.pentest.evaluation;

import edu.kit.pentest.generation.PenTestCaseGeneration;
import java.io.File;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Path;

import org.junit.jupiter.api.Test;

public class EvaluationTest {
	@Test
	void bank( ) {
		var ptcgen = new PenTestCaseGeneration();
		ptcgen.generatePTCs(new File("").getAbsolutePath()+"/model/bank/",
		"newRepository.repository",
		"newSystem.system",
		"newResourceEnvironment.resourceenvironment",
		"newAllocation.allocation",
		"bank.sidechannel",
		"bank.zone",
		new File("").getAbsolutePath()+"/model/bank/pentestcases.xmi");
		try {
			ptcgen.data.name = "Bank";
			Files.writeString(Path.of(new File("").getAbsolutePath()+"/model/bank/export.txt"), ptcgen.data.toString());
		} catch (IOException e) {
			e.printStackTrace();
		}
	}
	
	@Test
	void cloud( ) {
		var ptcgen = new PenTestCaseGeneration();
		ptcgen.generatePTCs(new File("").getAbsolutePath()+"/model/cloudInfrastructure/",
		"newRepository.repository",
		"newAssembly.system",
		"newResourceEnvironment.resourceenvironment",
		"newAllocation.allocation",
		"cloud.sidechannel",
		"cloud.zone",
		new File("").getAbsolutePath()+"/model/cloudInfrastructure/pentestcases.xmi");
		try {
			ptcgen.data.name = "Cloud";
			Files.writeString(Path.of(new File("").getAbsolutePath()+"/model/cloudInfrastructure/export.txt"), ptcgen.data.toString());
		} catch (IOException e) {
			e.printStackTrace();
		}
	}
	
	@Test
	void maintenance( ) {
		var ptcgen = new PenTestCaseGeneration();
		ptcgen.generatePTCs(new File("").getAbsolutePath()+"/model/maintenance/",
		"maintenanceScenario.repository",
		"maintenanceScenario.system",
		"maintenanceScenario.resourceenvironment",
		"maintenanceScenario.allocation",
		"maintenance.sidechannel",
		"maintenance.zone",
		new File("").getAbsolutePath()+"/model/maintenance/pentestcases.xmi");
		try {
			ptcgen.data.name = "Maintenance";
			Files.writeString(Path.of(new File("").getAbsolutePath()+"/model/maintenance/export.txt"), ptcgen.data.toString());
		} catch (IOException e) {
			e.printStackTrace();
		}
	}
	
	@Test
	void powergrid( ) {
		var ptcgen = new PenTestCaseGeneration();
		ptcgen.generatePTCs(new File("").getAbsolutePath()+"/model/powerGrid/",
		"powerGrid.repository",
		"powerGrid.system",
		"powerGrid.resourceenvironment",
		"powerGrid.allocation",
		"powergrid.sidechannel",
		"powergrid.zone",
		new File("").getAbsolutePath()+"/model/powerGrid/pentestcases.xmi");
		try {
			ptcgen.data.name = "Powergrid";
			Files.writeString(Path.of(new File("").getAbsolutePath()+"/model/powerGrid/export.txt"), ptcgen.data.toString());
		} catch (IOException e) {
			e.printStackTrace();
		}
	}
	
	@Test
	void scalability( ) {
		var ptcgen = new PenTestCaseGeneration();
		ptcgen.generatePTCs(new File("").getAbsolutePath()+"/model/Scalability/",
		"scalability.repository",
		"scalability.system",
		"scalability.resourceenvironment",
		"scalability.allocation",
		"scalability.sidechannel",
		"scalability.zone",
		new File("").getAbsolutePath()+"/model/Scalability/pentestcases.xmi");
		try {
			ptcgen.data.name = "Scalability";
			Files.writeString(Path.of(new File("").getAbsolutePath()+"/model/Scalability/export.txt"), ptcgen.data.toString());
		} catch (IOException e) {
			e.printStackTrace();
		}
	}
	
	@Test
	void targetBreach( ) {
		var ptcgen = new PenTestCaseGeneration();
		ptcgen.generatePTCs(new File("").getAbsolutePath()+"/model/targetBreach/",
		"target.repository",
		"target.system",
		"target.resourceenvironment",
		"target.allocation",
		"target.sidechannel",
		"target.zone",
		new File("").getAbsolutePath()+"/model/targetBreach/pentestcases.xmi");
		try {
			ptcgen.data.name = "TargetBreach";
			Files.writeString(Path.of(new File("").getAbsolutePath()+"/model/targetBreach/export.txt"), ptcgen.data.toString());
		} catch (IOException e) {
			e.printStackTrace();
		}
	}
	
	@Test
	void travelplanner( ) {
		var ptcgen = new PenTestCaseGeneration();
		ptcgen.generatePTCs(new File("").getAbsolutePath()+"/model/travelplanner/",
		"default.repository",
		"default.system",
		"default.resourceenvironment",
		"default.allocation",
		"travelplanner.sidechannel",
		"travelplanner.zone",
		new File("").getAbsolutePath()+"/model/travelplanner/pentestcases.xmi");
		try {
			ptcgen.data.name = "Travelplanner";
			Files.writeString(Path.of(new File("").getAbsolutePath()+"/model/travelplanner/export.txt"), ptcgen.data.toString());
		} catch (IOException e) {
			e.printStackTrace();
		}
	}
	
	@Test
	void university( ) {
		var ptcgen = new PenTestCaseGeneration();
		ptcgen.generatePTCs(new File("").getAbsolutePath()+"/model/university/",
		"gradeManagement.repository",
		"gradeManagement.system",
		"gradeManagement.resourceenvironment",
		"gradeManagement.allocation",
		"gradeManagement.sidechannel",
		"gradeManagement.zone",
		new File("").getAbsolutePath()+"/model/university/pentestcases.xmi");
		try {
			ptcgen.data.name = "University";
			Files.writeString(Path.of(new File("").getAbsolutePath()+"/model/university/export.txt"), ptcgen.data.toString());
		} catch (IOException e) {
			e.printStackTrace();
		}
	}
}
